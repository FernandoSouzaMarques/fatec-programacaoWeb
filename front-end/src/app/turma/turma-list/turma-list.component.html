<h1 class="a-title">Lista de Turmas</h1>

<mat-toolbar class="action-new">
	<mat-toolbar-row>
		<a mat-raised-button color="accent" [routerLink]="['/turma/novo']">
			<mat-icon>add-circle</mat-icon>
			Nova turma
		</a>
	</mat-toolbar-row>
</mat-toolbar>

<table mat-table [dataSource]="turmas" class="mat-elevation-z8 a-table">

	<ng-container matColumnDef="nome">
		<th mat-header-cell *matHeaderCellDef class="a-table-header"> Nome </th>
		<td mat-cell *matCellDef="let turma"> {{turma.nome}} </td>
	</ng-container>

	<ng-container matColumnDef="curso">
		<th mat-header-cell *matHeaderCellDef class="a-table-header"> Curso </th>
		<td mat-cell *matCellDef="let turma"> {{turma.curso?.nome}} </td>
	</ng-container>

	<ng-container matColumnDef="professor">
		<th mat-header-cell *matHeaderCellDef class="a-table-header"> Professor </th>
		<td mat-cell *matCellDef="let turma"> {{turma.professor?.nome}} </td>
	</ng-container>

	<ng-container matColumnDef="dia_semana">
		<th mat-header-cell *matHeaderCellDef class="a-table-header"> Dia da semana </th>
		<td mat-cell *matCellDef="let turma"> {{turma.dia_semana}} </td>
	</ng-container>

	<ng-container matColumnDef="horario">
		<th mat-header-cell *matHeaderCellDef class="a-table-header"> Horário </th>
		<td mat-cell *matCellDef="let turma"> {{turma.horario_inicial | mask : "Hh:m0"}} às {{turma.horario_final | mask : "Hh:m0"}} </td>
	</ng-container>
	
	<!-- Editar Column -->
	<ng-container matColumnDef="editar">
		<th mat-header-cell *matHeaderCellDef class="a-table-header"> Editar </th>
		<td mat-cell *matCellDef="let turma">
			<a mat-raised-button color="accent" title="Editar" class="a-btn-list" [routerLink]="['/turma', turma._id]">
				<mat-icon>edit</mat-icon>
			</a>
		</td>
	</ng-container>
	
	<!-- Excluir Column -->
	<ng-container matColumnDef="excluir">
		<th mat-header-cell *matHeaderCellDef class="a-table-header"> Excluir </th>
		<td mat-cell *matCellDef="let turma">
			<button mat-raised-button color="warn" class="a-btn-list" title="Clique aqui para Excluir" (click)="excluir(turma._id)">
				<mat-icon>delete</mat-icon>
			</button>
		</td>
	</ng-container>
	
	<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
	<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>